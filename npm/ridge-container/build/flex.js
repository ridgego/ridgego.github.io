(()=>{"use strict";var e={d:(t,i)=>{for(var l in i)e.o(i,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:i[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>l});class i{constructor(e){this.props=e,this.isRuntime="edit"!==e.__mode}getContainerStyle(){}getChildStyle(e){}getShadowStyle(){}isSlot(e){return!1}getSlotProps(){return{}}getAfterNode(e,t){return null}mounted(){}async mount(e){this.el=e;const t=document.createElement("div");if(this.containerEl=t,this.containerEl.className=(this.props.classNames||[]).join(" "),e.appendChild(t),this.wrapper=this.props.__elementWrapper,this.mode=this.props.__mode,Object.assign(this.containerEl.style,{width:"100%",height:"100%"},this.getContainerStyle()),this.props.children)for(const e of this.props.children){const t=document.createElement("div");this.containerEl.appendChild(t),await e.loadAndMount(t),this.updateChildStyle(e)}await this.mounted()}updateChildStyle(e,t){const i=Object.assign({},e.getResetStyle(),this.getChildStyle(e,t));Object.assign(e.el.style,i)}appendChild(e,t,i){const l=e.el;let n=l.getBoundingClientRect();return null==l.parentElement&&(n={x:t-(e.config.style.width||100)/2,y:i-(e.config.style.height||100)/2,width:e.config.style.width||100,height:e.config.style.height||100}),l.parentElement!==this.containerEl&&(this.containerEl.querySelector(":scope > .drop-shadow")?(this.containerEl.insertBefore(l,this.containerEl.querySelector(":scope > .drop-shadow")),this.containerEl.removeChild(this.containerEl.querySelector(":scope > .drop-shadow"))):this.containerEl.appendChild(l),this.updateChildStyle(e,n)),{children:this.getChildren()}}removeChild(e,t){return e.el.parentElement===this.containerEl?(t||this.checkInsertDropShadowEl(e.el.getBoundingClientRect(),e.el,e.config.style),this.containerEl.removeChild(e.el)):console.warn("not children "),{children:this.getChildren()}}checkInsertDropShadowEl(e,t,i){const l=this.containerEl.querySelector(":scope > .drop-shadow");if(l&&l.nextElementSibling===t)return;l&&this.containerEl.removeChild(l);const n=document.createElement("div");n.classList.add("drop-shadow"),n.style.width=e.width+"px",n.style.height=e.height+"px",n.style.borderRadius="var(--semi-border-radius-small)",n.style.border="2px dashed var(--semi-color-primary)",n.style.backgroundColor="var(--semi-color-primary-light-default)",Object.assign(n.style,this.getShadowStyle(i)),null==t?this.containerEl.appendChild(n):this.containerEl.insertBefore(n,t)}onDragOver(e){if(e.el){const t=this.getAfterNode(e.el.getBoundingClientRect(),this.containerEl.childNodes);this.checkInsertDropShadowEl(e.getConfig().style,t,e.config.style)}else{const t=this.getAfterNode(e,this.containerEl.childNodes);this.checkInsertDropShadowEl(e,t,e)}}onDragOut(){this.containerEl.querySelector(":scope > .drop-shadow")&&this.containerEl.removeChild(this.containerEl.querySelector(":scope > .drop-shadow"))}updateChild(e){this.updateChildStyle(e)}getChildren(){return Array.from(this.containerEl.childNodes).filter((e=>e.classList.contains("ridge-element"))).map((e=>e.elementWrapper.id)).filter((e=>null!=e))}update(e){if(this.props=e,Object.assign(this.containerEl.style,this.getContainerStyle()),this.containerEl.className=(this.props.classNames||[]).join(" "),this.props.children)for(const e of this.props.children)e.forceUpdate()}}const l={name:"flex-container",component:class extends i{getContainerStyle(){const{direction:e="row",alignItems:t="stretch",gap:i=0,justify:l="flex-start",rectStyle:n}=this.props,r={display:"flex",flexDirection:e,justifyContent:l,alignItems:t,gap:i+"px"};return Object.assign(r,n),r}getChildStyle(e){const t={width:"",height:""},i=e.config.style;return e.config.props.styleMargin?t.margin=e.config.props.styleMargin:t.margin=0,i.flex?t.flex=i.flex:(t.flex="","row"===this.props.direction?t.width=i.width?i.width+"px":"":t.height=i.height?i.height+"px":""),"stretch"!==this.props.alignItems&&("row"===this.props.direction?t.height=i.height?i.height+"px":"":"column"===this.props.direction&&(t.width=i.width?i.width+"px":"")),t.zIndex=10,t}getShadowStyle(e){const t={};return e&&e.flex&&(t.flex=e.flex),t}getAfterNode(e,t){const{direction:i}=this.props,l="row"===i?e.x+e.width/2:e.y+e.height/2;let n=1e10,r=null;for(const e of t){if(e.classList.contains("drop-shadow"))continue;const t=e.getBoundingClientRect(),o="row"===i?t.x+t.width/2:t.y+t.height/2;l<o&&o<n&&(n=o,r=e)}return r}},label:"弹性容器",type:"vanilla",order:3,icon:"bi bi-layout-sidebar",props:[{name:"direction",label:"排列方向",type:"string",control:"radiogroup",optionList:[{label:"横向",value:"row"},{label:"纵向",value:"column"}],value:"row"},{name:"justify",label:"排列对齐",type:"string",control:"radiogroup",optionList:[{label:"开始",value:"flex-start"},{label:"正中",value:"center"},{label:"结束",value:"flex-end"}],value:"flex-start"},{name:"alignItems",label:"交叉对齐",type:"string",control:"radiogroup",optionList:[{label:"起点",value:"flex-start"},{label:"正中",value:"center"},{label:"填充",value:"stretch"},{label:"终点",value:"flex-end"}],value:"flex-start"},{label:"子元素",name:"children",hidden:!0,type:"children"},{label:"间隔",name:"gap",party:!0,type:"number",value:8},{name:"classNames",label:"样式",type:"class",value:[]}],childStyle:[{label:"W",width:"50%",control:"number",field:"style.width",fieldEx:"styleEx.width"},{label:"H",width:"50%",control:"number",field:"style.height",fieldEx:"styleEx.height"},{field:"style.flex",label:"弹性",type:"string",width:"50%"},{field:"style.margin",label:"外边距",type:"string",width:"50%"}],width:360,height:240};this["ridge-container/flex"]=t})();