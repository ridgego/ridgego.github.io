(()=>{"use strict";var e={d:(t,r)=>{for(var i in r)e.o(r,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>i});const r=class{constructor(e){this.props=e}async mount(e){}isDroppable(){}onDragOver(e){}onDragOut(){}getChildren(){}appendChild(e,t,r){}removeChild(e,t){}updateChildStyle(){}update(e){}},i={name:"list-container",component:class extends r{async mount(e){this.el=e;const t=document.createElement("div");if(this.el.appendChild(t),this.containerEl=t,this.wrapper=this.props.__elementWrapper,this.mode=this.props.__mode,Object.assign(this.containerEl.style,{width:"100%",height:"100%"},this.getContainerStyle()),this.props.renderItem&&(await this.props.renderItem.preload(),this.props.renderItem.initPropsAndEvents()),"edit"===this.mode){if(this.props.renderItem){const e=document.createElement("div");this.containerEl.appendChild(e),this.props.renderItem.loadAndMount(e)}}else this.renderUpdateListItems()}getContainerStyle(){return{}}isDroppable(){return!this.props.renderItem}onDragOver(e){if(!this.containerEl.querySelector(":scope > .drop-shadow")){const e=document.createElement("div");e.classList.add("drop-shadow"),e.style.width="100%",e.style.height="100%",e.style.borderRadius="var(--semi-border-radius-small)",e.style.border="2px dashed var(--semi-color-primary)",e.style.backgroundColor="var(--semi-color-primary-light-default)",this.containerEl.appendChild(e)}}onDragOut(){this.containerEl.querySelector(":scope > .drop-shadow")&&this.containerEl.removeChild(this.containerEl.querySelector(":scope > .drop-shadow"))}getChildren(){return[]}appendChild(e,t,r){const i=e.el;return this.containerEl.querySelector(":scope > .drop-shadow")&&this.containerEl.removeChild(this.containerEl.querySelector(":scope > .drop-shadow")),this.containerEl.appendChild(i),Object.assign(i.style,e.getResetStyle(),{width:e.config.style.width+"px",height:e.config.style.height+"px"}),this.props.renderItem=e.id,{renderItem:e.id}}updateChildStyle(e){Object.assign(e.el.style,e.getResetStyle(),{width:e.config.style.width+"px",height:e.config.style.height+"px"})}removeChild(e,t){return e.el.parentElement===this.containerEl?(t||this.onDragOver(),this.containerEl.removeChild(e.el)):console.warn("not children "),this.props.renderItem=null,{renderItem:null}}update(e){this.props=e,"edit"!==this.mode&&this.renderUpdateListItems()}renderUpdateListItems(){const{itemKey:e,dataSource:t,renderItem:r}=this.props;if(t&&r){for(let i=0;i<t.length;i++){const n=t[i];let o=this.containerEl.children[i];if(e&&(o=this.containerEl.querySelector('div[key="'+n[e]+'"]')),o){o!==this.containerEl.children[i]&&this.containerEl.insertBefore(o,this.containerEl.children[i]);const e=o.elementWrapper;e.setScopeItem(n),e.forceUpdate()}else{const t=document.createElement("div");e&&t.setAttribute("key",n[e]),this.containerEl.children[i]?this.containerEl.insertBefore(t,this.containerEl.children[i]):this.containerEl.appendChild(t);const o=r.clone();o.parentWrapper=this.wrapper,o.setScopeItem(n),o.mount(t)}}for(;this.containerEl.childElementCount>t.length;)this.containerEl.lastChild.elementWrapper.unmount();this.itemInstanceWrappers=Array.from(this.containerEl.childNodes).map((e=>e.elementWrapper))}}getSlotStyle(){return"vertical"===this.props.itemLayout?{border:"1px dashed rgb(164,224,167)",display:"block",width:"100%",height:"80px"}:{border:"1px dashed rgb(164,224,167)",display:"block",height:"100%",width:"80px"}}updateChild(e){e.setConfigStyle({x:0,y:0})}},label:"列表容器",icon:"bi bi-view-stacked",type:"vanilla",props:[{name:"dataSource",label:"数据",type:"array",connect:!0,control:"json",value:[]},{name:"itemLayout",label:"布局",type:"string",control:"select",optionList:[{label:"纵向",value:"vertical"},{label:"横向",value:"horizontal"}],value:"vertical"},{name:"renderItem",label:"单项模板",type:"slot"},{name:"coverContainer",label:"填充",type:"boolean"},{name:"classNames",label:"样式",type:"class",value:[]}],width:420,height:360};this["ridge-container/list"]=t})();