(()=>{"use strict";var e={d:(t,i)=>{for(var o in i)e.o(i,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:i[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>o});const i={style:e=>{const t={background:e.background,padding:e.padding,borderRadius:e.radius,boxShadow:e.shadow};return"object"==typeof e.border?(t.borderTop=e.border[0],t.borderRight=e.border[1],t.borderBottom=e.border[2],t.borderLeft=e.border[3]):"string"==typeof e.border&&(t.border=e.border),t},props:[{name:"border",label:"边框",type:"object",control:"border",value:"1px solid #ccc"},{name:"radius",label:"圆角",type:"string",control:"px4",value:"3px"},{name:"padding",label:"内边",type:"string",control:"px4",value:"2px"},{name:"background",label:"背景",type:"string",control:"background"},{name:"shadow",label:"阴影",type:"string",control:"boxshadow",value:""}]},o={name:"relative-container",component:class{constructor(e){this.props=e}getContainerStyle(e){const t={width:"100%",height:"100%",boxSizing:"border-box",position:"relative"};return Object.assign(t,i.style(e)),t}async mount(e){const t=document.createElement("div");if(t.classList.add("relative-container"),Object.assign(t.style,this.getContainerStyle(this.props)),e.appendChild(t),this.containerEl=t,this.previousSize=t.getBoundingClientRect(),this.wrapper=this.props.__elementWrapper,this.mode=this.wrapper.pageManager.mode,this.props.children)for(const e of this.props.children){const i=document.createElement("div");t.appendChild(i),this.positionChild(e,this.wrapper.config.style),await e.mount(i)}}updateStyle(e){console.log("update style",e)}position(e,t,i,o){let n=JSON.parse(JSON.stringify(o));const r={};if(n.indexOf("hcenter")>-1){n=n.filter((e=>"left"!==e||"right"!==e));const o=e.width/2-(t.width/2+t.x);r.x=i.width/2-t.width/2-o,r.width=t.width}if(n.indexOf("vcenter")>-1){n=n.filter((e=>"top"!==e||"bottom"!==e));const o=e.height/2-(t.height/2+t.y);r.y=i.height/2-t.height/2-o,r.height=t.height}return n.indexOf("left")>-1&&n.indexOf("right")>-1?(r.x=t.x,r.width=t.width+(i.width-e.width)):n.indexOf("left")>-1?(r.x=t.x,r.width=t.width):n.indexOf("right")>-1?(r.x=i.width-(e.width-t.x),r.width=t.width):(r.x||(r.x=t.x),r.width||(r.width=t.width)),n.indexOf("top")>-1&&n.indexOf("bottom")>-1?(r.y=t.y,r.height=t.height+(i.height-e.height)):n.indexOf("top")>-1?(r.y=t.y,r.height=t.height):n.indexOf("bottom")>-1?(r.y=i.height-e.height+t.y,r.height=t.height):(r.y||(r.y=t.y),r.height||(r.height=t.height)),r}positionChild(e,t){const i=e.config.style,o=this.containerEl.getBoundingClientRect(),n=e.config.style.relative||[],r=this.position(t,i,o,n);"edit"===this.mode?e.setConfigStyle(r):Object.assign(e.style,r)}updateChild(e,t){const i=t||e.el.getBoundingClientRect(),o=this.containerEl.getBoundingClientRect(),n=parseInt(window.getComputedStyle(this.containerEl).borderWidth)||0;e.setConfigStyle({position:"absolute",x:i.x-o.x-n,y:i.y-o.y-n})}appendChild(e,t,i){const o=e.el;if(o.parentElement!==this.containerEl){const n=this.containerEl.getBoundingClientRect();this.containerEl.appendChild(o);const r=o.getBoundingClientRect();e.setConfigStyle({position:"absolute",x:t-n.x-r.width/2,y:i-n.y-r.height/2})}}getChildren(){return Array.from(this.containerEl.childNodes).map((e=>e.elementWrapper)).filter((e=>null!=e))}update(e){this.props=e,Object.assign(this.containerEl.style,this.getContainerStyle(this.props))}},label:"绝对容器",type:"vanilla",icon:"IconMarginStroked",props:[{name:"coverContainer",label:"填充",type:"boolean"},{name:"children",hidden:!0,type:"children"},...i.props.filter((e=>"padding"!==e.name))],childStyle:[{name:"relative",type:"array",label:"定位",control:"checkboxgroup",bindable:!1,optionList:[{label:"靠左固定",icon:"IconAlignHLeftStroked",value:"left"},{label:"靠上固定",icon:"IconAlignVTopStroked",value:"top"},{label:"靠下固定",icon:"IconAlignVBottomStroked",value:"bottom"},{label:"靠右固定",icon:"IconAlignHRightStroked",value:"right"},{label:"相对垂直中线固定",icon:"IconAlignHCenterStroked",value:"hcenter"},{label:"相对水平中线固定",icon:"IconAlignVCenterStroked",value:"vcenter"}]}],width:180,height:60};this["/ridge-container/build/relative-index.d.js"]=t})();