(()=>{"use strict";var e={d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>r});const o={style:e=>{const t={background:e.background,padding:e.padding,borderRadius:e.radius,boxShadow:e.shadow};return"object"==typeof e.border?(t.borderTop=e.border[0],t.borderRight=e.border[1],t.borderBottom=e.border[2],t.borderLeft=e.border[3]):"string"==typeof e.border&&(t.border=e.border),t},props:[{name:"border",label:"边框",type:"object",control:"border",value:"1px solid #ccc"},{name:"radius",label:"圆角",type:"string",control:"px4",value:"3px"},{name:"padding",label:"内边",type:"string",control:"px4",value:"2px"},{name:"background",label:"背景",type:"string",control:"background"},{name:"shadow",label:"阴影",type:"string",control:"boxshadow",value:""}]},r={name:"flex-container",component:class extends class{constructor(e){this.props=e}getContainerStyle(){}getChildStyle(e){}getShadowStyle(){}isSlot(e){return!1}getSlotProps(){return{}}getAfterNode(e,t){}async mount(e){const t=document.createElement("div");if(t.classList.add(this.className),e.appendChild(t),this.containerEl=t,this.mode=this.props.__mode,Object.assign(this.containerEl.style,{width:"100%",height:"100%"},o.style(this.props),this.getContainerStyle()),this.props.children)for(const e of this.props.children){const o=document.createElement("div");t.appendChild(o),await e.mount(o),this.updateChildStyle(e)}}updateChildStyle(e){const t=Object.assign({},e.getResetStyle(),this.getChildStyle(e));Object.assign(e.el.style,t)}appendChild(e){const t=e.el;return t.parentElement!==this.containerEl&&(this.containerEl.querySelector(":scope > .drop-shadow")&&(this.containerEl.insertBefore(t,this.containerEl.querySelector(":scope > .drop-shadow")),this.containerEl.removeChild(this.containerEl.querySelector(":scope > .drop-shadow"))),this.updateChildStyle(e)),this.isSlot(t)?this.getSlotProps():{children:this.getChildren()}}removeChild(e){return e.el,e.el.parentElement===this.containerEl?(this.checkInsertDropShadowEl(e.el.getBoundingClientRect(),e.el,e.config.style),this.containerEl.removeChild(e.el)):console.warn("not children "),this.isSlot(e.el)?{}:{children:this.getChildren()}}checkInsertDropShadowEl(e,t,o){const r=this.containerEl.querySelector(":scope > .drop-shadow");if(console.log(r,t),r&&r.nextElementSibling===t)return;r&&this.containerEl.removeChild(r);const i=document.createElement("div");i.classList.add("drop-shadow"),i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.borderRadius="var(--semi-border-radius-small)",i.style.border="2px dashed var(--semi-color-primary)",i.style.backgroundColor="var(--semi-color-primary-light-default)",Object.assign(i.style,this.getShadowStyle(o)),null==t?this.containerEl.appendChild(i):this.containerEl.insertBefore(i,t)}onDragOver(e){if(e.el){const t=this.getAfterNode(e.el.getBoundingClientRect(),this.containerEl.childNodes);this.checkInsertDropShadowEl(e.el.getBoundingClientRect(),t,e.config.style)}else{const t=this.getAfterNode(e,this.containerEl.childNodes);this.checkInsertDropShadowEl(e,t,e)}}onDragOut(){this.containerEl.querySelector(":scope > .drop-shadow")&&this.containerEl.removeChild(this.containerEl.querySelector(":scope > .drop-shadow"))}updateChild(e){this.updateChildStyle(e)}getChildren(){return Array.from(this.containerEl.childNodes).map((e=>e.elementWrapper)).filter((e=>null!=e))}update(e){if(this.props=e,Object.assign(this.containerEl.style,this.getContainerStyle()),this.props.children)for(const e of this.props.children)e.forceUpdate()}}{getContainerStyle(){const{direction:e="row",alignItems:t="stretch",gap:r=0,justify:i="flex-start"}=this.props,l={display:"flex",flexDirection:e,justifyContent:i,alignItems:t,gap:r+"px"};return Object.assign(l,o.style(this.props)),l}getChildStyle(e){const t={},o=e.config.style;return e.config.props.styleMargin?t.margin=e.config.props.styleMargin:t.margin=0,o.flex?(t.flex=o.flex,"stretch"!==this.props.alignItems&&("row"===this.props.direction?t.height=o.height?o.height+"px":"":"column"===this.props.direction&&(t.width=o.width?o.width+"px":""))):(t.flex="",t.width=o.width?o.width+"px":"",t.height=o.height?o.height+"px":""),t.zIndex=10,t}getShadowStyle(e){const t={};return e&&e.flex&&(t.flex=e.flex),t}getAfterNode(e,t){const{direction:o}=this.props,r="row"===o?e.x+e.width/2:e.y+e.height/2;let i=1e10,l=null;for(const e of t){if(e.classList.contains("drop-shadow"))continue;const t=e.getBoundingClientRect(),n="row"===o?t.x+t.width/2:t.y+t.height/2;r<n&&n<i&&(i=n,l=e)}return l}},label:"弹性容器",type:"vanilla",icon:"IconKanban",props:[{name:"direction",label:"排列方向",type:"string",control:"radiogroup",optionList:[{icon:"IconSortStroked",rotate:90,value:"row"},{icon:"IconSortStroked",value:"column"}],value:"row"},{name:"justify",label:"对齐方式",type:"string",control:"radiogroup",optionList:[{icon:"IconCenterLeftStroked",value:"flex-start"},{label:"正中",icon:"IconCarouselStroked",value:"center"},{icon:"IconCenterRightStroked",label:"底部",value:"flex-end"}],value:"flex-start"},{name:"alignItems",label:"交叉对齐",type:"string",control:"radiogroup",optionList:[{label:"起点对齐",icon:"IconAlignHLeftStroked",value:"flex-start"},{label:"正中对齐",icon:"IconAlignHCenterStroked",value:"center"},{label:"填充对齐",icon:"IconSectionStroked",value:"stretch"},{label:"终点对齐",icon:"IconAlignHRightStroked",value:"flex-end"}],value:"flex-start"},{label:"间隔",name:"gap",party:!0,type:"number",value:0},{name:"children",hidden:!0,type:"children"},...o.props],childStyle:[{label:"W",width:"50%",control:"number",field:"style.width",fieldEx:"styleEx.width"},{label:"H",width:"50%",control:"number",field:"style.height",fieldEx:"styleEx.height"},{field:"style.flex",label:"弹性",type:"string",width:"50%"},{field:"style.margin",label:"外边距",type:"string",width:"50%"}],width:180,height:60};this["/ridge-container/build/flex-index.d.js"]=t})();